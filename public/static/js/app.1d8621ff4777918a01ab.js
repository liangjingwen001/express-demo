webpackJsonp([5],{"1yKX":function(t,e){},"5v1o":function(t,e){},JBBM:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),o=n("Dd8w"),a=n.n(o);var i=new s.default,c={name:"HelloWorld",props:["msg"],data:function(){return{data:""}},created:function(){i.$on("tobrother",function(t){console.log(t)})}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"head"},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2"}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),t._v(" "),n("span",[t._v("导航一")])]),t._v(" "),n("el-menu-item-group",[n("template",{slot:"title"},[t._v("分组一")]),t._v(" "),n("el-menu-item",{attrs:{index:"1-1"}},[t._v("选项1")]),t._v(" "),n("el-menu-item",{attrs:{index:"1-2"}},[t._v("选项2")])],2),t._v(" "),n("el-menu-item-group",{attrs:{title:"分组2"}},[n("el-menu-item",{attrs:{index:"1-3"}},[t._v("选项3")])],1),t._v(" "),n("el-submenu",{attrs:{index:"1-4"}},[n("template",{slot:"title"},[t._v("选项4")]),t._v(" "),n("el-menu-item",{attrs:{index:"1-4-1"}},[t._v("选项1")])],2)],2),t._v(" "),n("el-menu-item",{attrs:{index:"2"}},[n("i",{staticClass:"el-icon-menu"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("导航二")])]),t._v(" "),n("el-menu-item",{attrs:{index:"3",disabled:""}},[n("i",{staticClass:"el-icon-document"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("导航三")])]),t._v(" "),n("el-menu-item",{attrs:{index:"4"}},[n("i",{staticClass:"el-icon-setting"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("导航四")])])],1)],1)},staticRenderFns:[]};var l=n("VU/8")(c,r,!1,function(t){n("1yKX")},"data-v-4a19a762",null).exports,u=n("NYxO"),d={name:"App",components:{leftNav:l},data:function(){return{msg:"父组件传给子组件的数据",sonData:""}},methods:a()({},Object(u.c)(["islogin","setToken"]),{getMsg:function(t){this.sonData=t}}),computed:{},created:function(){this.$store.commit("islogin",!1)}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),e("toast")],1)},staticRenderFns:[]};var m=n("VU/8")(d,f,!1,function(t){n("JBBM")},null,null).exports,p={name:"message",props:[],data:function(){return{}},watch:{showTotal:function(t){console.log(t)}},mounted:function(){}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[this.$store.state.showToast?e("div",{staticClass:"text"},[this._v(this._s(this.$store.state.toastText))]):this._e()])},staticRenderFns:[]};var h=n("VU/8")(p,v,!1,function(t){n("SEHG")},"data-v-5324f2ca",null).exports,g={name:"message",props:[],data:function(){return{}},watch:{showTotal:function(t){console.log(t)}},mounted:function(){}},_={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"mask"}),this._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"text"},[this._v("126712")]),this._v(" "),e("div",{staticClass:"btn"},[this._v("确定")])])])}]};var w=n("VU/8")(g,_,!1,function(t){n("Rpcj")},"data-v-0cd4b103",null).exports,x=s.default.extend(w),b={};w.install=function(t,e){void 0===t||null===t?t={text:""}:"string"!=typeof t&&"number"!=typeof t||(t={text:t}),t.canfirmText||(t.canfirmText=store.state.language.confirm),t.cancelText||(t.cancelText=store.state.language.cancel),t.return=store.state.language.return,b=new x({data:t}).$mount(),document.body.appendChild(b.$el),s.default.nextTick(function(){b.showMessage=!0,document.querySelector("body").style.overflow="hidden"})},w.close=function(){b.showMessage&&b.closeSelf()};var T=w,C={login:window.sessionStorage.getItem("islogin"),token:window.sessionStorage.getItem("token"),num:10,price:10,showToast:!1,toastText:"123"},$={islogin:function(t,e){t.login=e},setToken:function(t,e){t.token=e},showToast:function(t,e){t.showToast=!0,t.toastText=e,setTimeout(function(){t.showToast=!1},3e3)}},k={total:function(t,e){return e.count*t.price},count:function(){return 21}},y={showMessage:function(t,e){console.log(e),t.state.showMessage=e.showMessage}};s.default.use(u.a);var N=new u.a.Store({state:C,mutations:$,getters:k,actions:y}),M=n("/ocq"),E={name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App",age:11,newsList:[]}},methods:a()({},Object(u.b)(["testAction"]),{toDetail:function(){this.$router.push({name:"detail"})},init:function(){var t=this;this.$ajax.selectNews({params:{token:this.$store.state.token},success:function(e){t.newsList=e.data.data}})},delNews:function(t){var e=this;this.$ajax.delNews({params:{_id:t,token:this.$store.state.token},success:function(t){200===t.data.code&&e.init()}})},editNews:function(t){this.$router.push({name:"detail",query:{id:t}})}}),created:function(){this.init()}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},t._l(t.newsList,function(e,s){return n("div",{key:s,staticClass:"content"},[n("div",[t._v(t._s(e.title)+" "),n("span",{on:{click:function(n){return t.delNews(e._id)}}},[t._v("删除")])]),t._v(" "),n("div",[t._v("作者："+t._s(e.author)+" "),n("span",{on:{click:function(n){return t.editNews(e._id)}}},[t._v("编辑")])]),t._v(" "),n("p",[t._v(t._s(e.newsContent))])])}),0)},staticRenderFns:[]};var L=n("VU/8")(E,j,!1,function(t){n("5v1o")},"data-v-40ba5a46",null).exports;s.default.use(M.a);var H=new M.a({mode:"history",routes:[].concat([{name:"login",path:"/",component:function(t){n.e(2).then(function(){var e=[n("2ZEU")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{name:"register",path:"/register",component:function(t){n.e(0).then(function(){var e=[n("9O00")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{name:"detail",path:"/detail",component:function(){return n.e(3).then(n.bind(null,"v2W6"))},meta:{needLogin:!0}},{name:"index",path:"/index",component:L,meta:{needLogin:!0}}],n("k/HM"))}),R=n("zL8q"),S=n.n(R),U=n("woOf"),D=n.n(U),I=n("mtWM"),O=n.n(I).a.create();console.log("http://127.0.0.1:3000");var V="post",W="get",A=function(t,e,n){return n=D()({needLogin:!1,headers:n.headers,success:function(){},error:function(){},finally:function(){}},n),O({baseURL:"http://127.0.0.1:3000",url:e,method:t,headers:n.headers,responseType:n.responseType,params:"get"===t?n.params:"",data:"post"===t?n.params:""}).then(function(t){401===t.data.code&&(N.commit("islogin",!1),H.push({name:"login"})),n.success(t)}).catch(function(t){n.error(t)})},F={register:function(t){A(V,"/user/reg",t)},login:function(t){A(V,"/user/login",t)},getCode:function(t){A(V,"/user/getCode",t)}},q={uploadImg:function(t){A(V,"/news/uploadImg",t)},getImg:function(t){A(V,"/news/getImg",t)},addNews:function(t){A(V,"/news/addNews",t)},selectNews:function(t){A(V,"/news/selectNews",t)},delNews:function(t){A(V,"/news/delNews",t)},newsDetail:function(t){A(V,"/news/newsDetail",t)},editNews:function(t){A(V,"/news/editNews",t)}},B=D()({login:function(t){A(W,"/index/login",t)}},F,q);s.default.use(S.a),s.default.component("toast",h),s.default.component("modal",T),s.default.config.productionTip=!1,s.default.prototype.$ajax=B,H.beforeEach(function(t,e,n){t.meta.needLogin?N.state.login?n():n({name:"login"}):n()}),new s.default({el:"#app",store:N,router:H,components:{App:m},template:"<App/>"})},Rpcj:function(t,e){},SEHG:function(t,e){},"k/HM":function(t,e,n){t.exports=[{name:"result",path:"/result",component:function(){return n.e(1).then(n.bind(null,"kslJ"))}}]}},["NHnr"]);
//# sourceMappingURL=app.1d8621ff4777918a01ab.js.map