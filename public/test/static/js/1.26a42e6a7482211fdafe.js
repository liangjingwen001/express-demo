webpackJsonp([1],{"96cU":function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.container img[data-v-3803ee32]{width:100%;height:300px\n}\n","",{version:3,sources:["D:/project/vue-demo/src/view/D:/project/vue-demo/src/view/detail.vue"],names:[],mappings:";AAwHA,gCACM,WAAa,YAAa;CAAG",file:"detail.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.container{\n  img{width: 100%; height: 300px;}\n}\n"],sourceRoot:""}])},Zg5S:function(n,t,e){var a=e("96cU");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("dd14c782",a,!1,{})},v2W6:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"HelloWorld",data:function(){return{img:"",imgUrl:"",title:"",author:"",newsContent:"",id:""}},methods:{tosonfoot:function(){this.$router.push({name:"foot"})},uploadImg:function(n){var t=this,e=n.target.files[0];if(e){var a=new FileReader;a.readAsDataURL(e),a.onload=function(n){var e=a.result.split(",")[1];t.imgUrl=n.target.result,t.$ajax.uploadImg({params:{img:e},success:function(n){console.log(n)}})}}},getImg:function(n){var t=this;this.$ajax.getImg({params:{token:this.$store.state.token},success:function(n){t.imgUrl="data:image/png;base64,"+n.data.data}})},addNews:function(){var n=this;this.$ajax.addNews({params:{title:this.title,author:this.author,newsContent:this.newsContent,token:this.$store.state.token},success:function(t){n.$router.push({name:"index"})}})},init:function(n){var t=this;this.$ajax.newsDetail({params:{_id:n,token:this.$store.state.token},success:function(n){var e=n.data.data[0];t.title=e.title,t.author=e.author,t.newsContent=e.newsContent}})},editNews:function(){var n=this;this.$ajax.editNews({params:{_id:this.id,title:this.title,author:this.author,newsContent:this.newsContent,token:this.$store.state.token},success:function(t){(t.data.code=200)&&n.$router.push({name:"index"})}})}},mounted:function(){this.getImg(),this.$route.query.id&&(this.id=this.$route.query.id,this.init(this.$route.query.id))}},i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"container"},[e("input",{attrs:{type:"file"},on:{change:n.uploadImg}}),n._v(" "),e("router-link",{attrs:{to:"/result"}},[n._v(" Go to result")]),n._v(" "),e("img",{attrs:{src:n.imgUrl,alt:""}}),n._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:n.title,expression:"title"}],attrs:{type:"text",placeholder:"标题"},domProps:{value:n.title},on:{input:function(t){t.target.composing||(n.title=t.target.value)}}}),e("br"),n._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:n.author,expression:"author"}],attrs:{type:"text",placeholder:"作者"},domProps:{value:n.author},on:{input:function(t){t.target.composing||(n.author=t.target.value)}}}),e("br"),n._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.newsContent,expression:"newsContent"}],attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"内容"},domProps:{value:n.newsContent},on:{input:function(t){t.target.composing||(n.newsContent=t.target.value)}}}),e("br"),n._v(" "),e("button",{on:{click:n.addNews}},[n._v("上传")]),n._v(" "),e("button",{on:{click:n.editNews}},[n._v("编辑")])],1)};i._withStripped=!0;var o={render:i,staticRenderFns:[]},s=o;var r=!1;var u=e("VU/8")(a,s,!1,function(n){r||e("Zg5S")},"data-v-3803ee32",null);u.options.__file="src/view/detail.vue";t.default=u.exports}});
//# sourceMappingURL=1.26a42e6a7482211fdafe.js.map